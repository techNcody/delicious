doctype html
head
  meta(charset='utf-8')
  meta(content='width=device-width, initial-scale=1.0' name='viewport')
  title #{title}
  meta(content='' name='description')
  meta(content='' name='keywords')
  link(href='assets/img/apple-touch-icon.png' rel='apple-touch-icon')
  // Google Fonts
  link(href='https://fonts.googleapis.com/css?family=Poppins:300,300i,400,400i,600,600i,700,700i|Satisfy|Comic+Neue:300,300i,400,400i,700,700i' rel='stylesheet')

  // Vendor CSS Files
  link(href='assets/vendor/bootstrap/css/bootstrap.min.css' rel='stylesheet')
  link(href='assets/vendor/icofont/icofont.min.css' rel='stylesheet')
  link(href='assets/vendor/boxicons/css/boxicons.min.css' rel='stylesheet')
  link(href='assets/vendor/animate.css/animate.min.css' rel='stylesheet')
  link(href='assets/vendor/venobox/venobox.css' rel='stylesheet')
  link(href='assets/vendor/owl.carousel/assets/owl.carousel.min.css' rel='stylesheet')
  // Template Main CSS File
  link(href='assets/css/style.css' rel='stylesheet')



  section#book-a-table.book-a-table
    .container
      .section-title
        h2
          | Active
          span  Subscriptions
        p Total Subscriptions: #{requests.length}
        p Total veg Subscriptions: #{vegCount}
        p Total non-veg Subscriptions: #{nonVegCount}
        table.table(style='margin-top: 2%;')
          thead
            tr
              th(scope='col' style="display: none") Email
              th(scope='col' style="display: none") Address
              th(scope='col') Contact person
              th(scope='col') Meal type
              th(scope='col' style="display: none") Mobile no.
              th(scope='col') Map location
          tbody
            each request in requests
              tr
                td(style="display: none") #{request.userCustomerEmail}
                td(style="display: none") #{request.address[0].addressLine1}, #{request.address[0].addressLine2}, #{request.address[0].addressLine3}, #{request.address[0].pincode}, #{request.address[0].landmark}
                td #{request.contactPerson}
                td #{request.mealType}
                td(style="display: none") #{request.contactPersonMobileNumber}
                th
                    a(href=`https://maps.google.com/?q= ${request.address[0].addressLine1}, ${request.address[0].addressLine2}, ${request.address[0].addressLine3}, ${request.address[0].pincode}`) Click here

        
        button.btn.btn-warning(onclick='location.href="/vendor"' style="margin: 10px") Go to Home page
        button.btn.btn-success(onclick='location.reload()' style="margin: 10px") Refresh
    #myModal.modal.fade
      .modal-dialog
        .modal-content
          .modal-header
            //- button.close(type='button' data-dismiss='modal' aria-label='Close')
            //-   span(aria-hidden='true') &times;
            p.modal-title
              u Subscription details
          .modal-body
            .container 
              .row 
                  label(for='mealType') Meal type:
              .row 
                  input#mealType.input-sm(type='text' style="width:200px;" readonly disabled="disabled")
              .row 
                  label(for='email') Email:
              .row 
                  textarea#email.input-sm(type='text' style="width:300px; overflow-x: scroll; resize: none;" readonly disabled="disabled")
              .row 
                  label(for='contactPerson') Contact person:
              .row 
                  input#contactPerson.input-sm(type='text' style="width:200px;" readonly disabled="disabled")
              .row 
                  label(for='contactPersonMobileNumber') Mobile number:
              .row 
                  input#contactPersonMobileNumber.input-sm(type='text' style="width:200px;" readonly disabled="disabled")
              .row 
                  label(for='address') Delivery address:
              .row
                  textarea#address.input-lg(type='text' rows="3" style='overflow-y: scroll; resize: none; width: 200px' readonly disabled="disabled")
          .modal-footer
            button.btn.btn-danger(type='button' data-dismiss='modal') Close
            //- button.btn.btn-primary(type='button') Save
    //-   form.send-message-form(action='/api/v2/users/approveSubscription' method='post' role='form')
    //-     .form-row
    //-       .col-md-6.form-group
    //-         select.custom-select(name='customer')
    //-           option(selected='none') Select Customer
    //-           each request in requests
    //-             option(value=`${request.userCustomerEmail}`) #{request.userCustomerEmail}
    //-         .validate
    //-       .col-md-6.form-group
    //-         select.custom-select(name='vendor')
    //-           option(selected='none') Select Vendor
    //-           each vendor in vendors
    //-             option(value=`${vendor.email}`) #{vendor.email}
    //-         .validate
    //-     .mb-3
    //-       .loading Loading
    //-       .error-message
    //-       .sent-message
    //-         | Subscription is approved successfully. Thank you!
    //-     .text-center
    //-       button.btn.btn-warning(type='submit') Approve

    // Vendor JS Files
script(src='assets/vendor/jquery/jquery.min.js')
script(src='assets/vendor/bootstrap/js/bootstrap.bundle.min.js')
script(src='assets/vendor/jquery.easing/jquery.easing.min.js')
script(src='assets/vendor/php-email-form/validate.js')
script(src='assets/vendor/jquery-sticky/jquery.sticky.js')
script(src='assets/vendor/isotope-layout/isotope.pkgd.min.js')
script(src='assets/vendor/venobox/venobox.min.js')
script(src='assets/vendor/owl.carousel/owl.carousel.min.js')
// Template Main JS File
script(src='assets/js/main.js')
script(src='https://unpkg.com/axios/dist/axios.min.js')
script(src='js/viewSubscription.js')
